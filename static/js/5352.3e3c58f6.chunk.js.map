{"version":3,"file":"static/js/5352.3e3c58f6.chunk.js","mappings":"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","sources":["../node_modules/@siemens/ix/dist/esm/src/components/utils/mutation-observer.ts","../node_modules/@siemens/ix/dist/esm/src/components/utils/context.ts","../node_modules/@siemens/ix/dist/esm/src/components/utils/application-layout/context.ts","../node_modules/@siemens/ix/dist/esm/src/components/menu-category/menu-category.scss?tag=ix-menu-category&encapsulation=shadow","../node_modules/@siemens/ix/dist/esm/src/components/menu-category/menu-category.tsx","../node_modules/@siemens/ix/dist/esm/src/components/menu-category/enter-leave.ts"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nexport const createMutationObserver = (callback: MutationCallback) =>\n  new MutationObserver(callback);\n","/*\n * SPDX-FileCopyrightText: 2024 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { TypedEvent } from './typed-event';\n\n/**\n * A Context object defines an optional initial value for a Context, as well as a name identifier for debugging purposes.\n */\nexport type Context<T> = {\n  name: string;\n  initialValue?: T;\n};\n\n/**\n * An unknown context type\n */\nexport type UnknownContext = Context<unknown>;\n\n/**\n * A helper type which can extract a Context value type from a Context type\n */\nexport type ContextType<T extends UnknownContext> =\n  T extends Context<infer Y> ? Y : never;\n\n/**\n * A function which creates a Context value object\n */\nexport function createContext<T>(\n  name: string,\n  initialValue?: T\n): Readonly<Context<T>> {\n  return {\n    name,\n    initialValue,\n  };\n}\n\n/**\n * A callback which is provided by a context requester and is called with the value satisfying the request.\n * This callback can be called multiple times by context providers as the requested value is changed.\n */\nexport type ContextCallback<ValueType> = (\n  value: ValueType,\n  unsubscribe?: () => void\n) => void;\n\n/**\n * An event fired by a context requester to signal it desires a named context.\n *\n * A provider should inspect the `context` property of the event to determine if it has a value that can\n * satisfy the request, calling the `callback` with the requested value if so.\n *\n * If the requested context event contains a truthy `subscribe` value, then a provider can call the callback\n * multiple times if the value is changed, if this is the case the provider should pass an `unsubscribe`\n * function to the callback which requesters can invoke to indicate they no longer wish to receive these updates.\n */\nexport class ContextEvent<T extends UnknownContext> extends Event {\n  public constructor(\n    public readonly context: T,\n    public readonly callback: ContextCallback<ContextType<T>>,\n    public readonly subscribe?: boolean\n  ) {\n    super('context-request', { bubbles: true, composed: true });\n  }\n}\n\ndeclare global {\n  interface HTMLElementEventMap {\n    /**\n     * A 'context-request' event can be emitted by any element which desires\n     * a context value to be injected by an external provider.\n     */\n    'context-request': ContextEvent<UnknownContext>;\n  }\n}\n\nexport type ContextConsumerSubscription = {\n  unsubscribe: () => void;\n};\n\nexport function useContextConsumer<\n  T extends HTMLElement,\n  C extends UnknownContext,\n>(\n  hostElement: T,\n  context: C,\n  onContextReceived: (\n    context: ContextType<C>,\n    unsubscribe?: () => void\n  ) => void,\n  subscribe?: boolean\n): ContextConsumerSubscription {\n  let _unsubscribe: (() => void) | undefined;\n  hostElement.dispatchEvent(\n    new ContextEvent(\n      context,\n      (ctx, unSub) => {\n        onContextReceived(ctx, unSub);\n        _unsubscribe = unSub;\n      },\n      subscribe\n    )\n  );\n\n  return {\n    unsubscribe: () => {\n      if (_unsubscribe) {\n        _unsubscribe();\n      }\n    },\n  };\n}\nexport type ContextProvider<C extends Context<{}> = Context<any>> = {\n  emit: (context: ContextType<C>) => void;\n};\n\nexport function useContextProvider<\n  X extends {},\n  C extends Context<X>,\n  T extends HTMLElement = HTMLElement,\n>(\n  hostElement: T,\n  context: C,\n  contextPayload?: ContextType<C>\n): ContextProvider<C> {\n  const requestContext = new TypedEvent<ContextEvent<C>>();\n  const updateContext = new TypedEvent<ContextType<C>>();\n\n  const requests = new Set<ContextEvent<UnknownContext>>();\n\n  hostElement.addEventListener('context-request', (event: Event) => {\n    const requestContextEvent = event as ContextEvent<C>;\n    if (requestContextEvent?.context.name !== context.name) {\n      return;\n    }\n\n    requestContextEvent.stopPropagation();\n\n    if (requestContextEvent.subscribe) {\n      requests.add(requestContextEvent);\n    }\n    requestContext.emit(requestContextEvent);\n\n    if (contextPayload) {\n      requestContextEvent.callback(contextPayload, () => {\n        requests.delete(requestContextEvent);\n      });\n    }\n  });\n\n  updateContext.on((context: ContextType<C>) => {\n    requests.forEach((r) =>\n      r.callback(context, () => {\n        requests.delete(r);\n      })\n    );\n  });\n\n  return {\n    emit: (context: ContextType<C>) => {\n      updateContext.emit(context);\n    },\n  };\n}\n","/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { createContext } from '../context';\nimport { type LiteralStringUnion } from '../type-helper';\n\nexport const closestIxMenu = (element: Element) => {\n  const menuElement = element.closest('ix-menu');\n  return menuElement;\n};\n\nexport type AppSwitchConfigurationTarget = LiteralStringUnion<\n  '_self' | '_blank' | '_parent' | '_top'\n>;\n\nexport type AppSwitchConfiguration = {\n  currentAppId: string;\n  apps: {\n    id: string;\n    name: string;\n    description: string;\n    url: string;\n    target: AppSwitchConfigurationTarget;\n    iconSrc: string;\n  }[];\n  i18nAppSwitch?: string;\n  i18nLoadingApps?: string;\n};\n\nexport const ApplicationLayoutContext = createContext<{\n  hideHeader: boolean;\n  host: 'basic-navigation' | 'map-navigation' | null;\n  appSwitchConfig?: AppSwitchConfiguration;\n  sidebar?: boolean;\n}>('application-layout-context', {\n  hideHeader: false,\n  host: null,\n  sidebar: false,\n});\n","/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n@import 'mixins/shadow-dom/component';\n@import 'mixins/text-truncation';\n\n:host {\n  @include ix-component;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n\n  .category {\n    display: flex;\n    position: relative;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n  }\n\n  .category-text {\n    width: 100%;\n    padding-right: 0.25rem;\n    @include ellipsis;\n  }\n\n  .category-chevron {\n    margin-left: auto;\n    margin-right: 0;\n    transition: var(--theme-default-time) transform ease-in-out;\n  }\n\n  .category-chevron--open {\n    transform: rotate(-180deg);\n  }\n\n  .menu-items {\n    overflow: hidden;\n    max-height: 0;\n    transition: var(--theme-default-time) max-height ease-in-out;\n  }\n\n  .menu-items--expanded {\n    max-height: 999999999px;\n    padding: 0.25rem 0 0.25rem 1.625rem;\n  }\n\n  .menu-items--collapsed {\n    display: none;\n  }\n\n  .category-dropdown {\n    ::slotted(ix-menu-item) {\n      --ix-menu-item-height: 2.5rem;\n    }\n  }\n\n  .category-dropdown-header {\n    pointer-events: none;\n    padding-left: 0.125rem;\n    min-width: 256px;\n  }\n\n  ::slotted(ix-menu-item) {\n    --ix-menu-item-height: 2.5rem;\n  }\n}\n\n:host(.expanded) {\n  background-color: var(--theme-color-ghost--active);\n}\n\n:host {\n  ::slotted(a[href]) {\n    text-decoration: none !important;\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport {\n  Component,\n  Element,\n  h,\n  Host,\n  Prop,\n  State,\n  Event,\n  EventEmitter,\n  Listen,\n} from '@stencil/core';\nimport anime from 'animejs';\nimport { closestIxMenu } from '../utils/application-layout/context';\nimport { createMutationObserver } from '../utils/mutation-observer';\nimport { createEnterLeaveDebounce } from './enter-leave';\nimport { iconChevronDownSmall } from '@siemens/ix-icons/icons';\n\nconst DefaultIxMenuItemHeight = 40;\nconst DefaultAnimationTimeout = 150;\n\n@Component({\n  tag: 'ix-menu-category',\n  styleUrl: 'menu-category.scss',\n  shadow: true,\n})\nexport class MenuCategory {\n  @Element() hostElement!: HTMLIxMenuCategoryElement;\n\n  /**\n   * Display name of the category\n   */\n  @Prop() label?: string;\n\n  /**\n   * Icon of the category\n   */\n  @Prop() icon?: string;\n\n  /**\n   * Show notification count on the category\n   */\n  @Prop() notifications?: number;\n\n  /** @internal */\n  // eslint-disable-next-line @stencil-community/decorators-style\n  @Event({ bubbles: true, cancelable: true })\n  closeOtherCategories!: EventEmitter;\n\n  @State() menuExpand = false;\n  @State() showItems = false;\n  @State() showDropdown = false;\n  @State() nestedItems: HTMLIxMenuItemElement[] = [];\n\n  private observer?: MutationObserver;\n  private menuItemsContainer?: HTMLDivElement;\n  private ixMenu?: HTMLIxMenuElement;\n\n  private enterLeaveDebounce = createEnterLeaveDebounce(\n    () => {\n      this.onPointerEnter();\n    },\n    () => {\n      this.onPointerLeave();\n    }\n  );\n\n  private isNestedItemActive() {\n    return this.getNestedItems().some((item) => item.active);\n  }\n\n  private getNestedItems() {\n    return Array.from(\n      this.hostElement.querySelectorAll(':scope ix-menu-item')\n    ) as HTMLIxMenuItemElement[];\n  }\n\n  private getNestedItemsHeight() {\n    const items = this.getNestedItems();\n\n    return items.length * DefaultIxMenuItemHeight;\n  }\n\n  private onExpandCategory(showItems: boolean) {\n    if (showItems) {\n      this.animateFadeIn();\n    } else {\n      this.animateFadeOut();\n    }\n  }\n\n  private animateFadeOut() {\n    const slotHideThresholdMs = 25;\n    anime({\n      targets: this.menuItemsContainer,\n      duration: DefaultAnimationTimeout,\n      easing: 'easeInSine',\n      opacity: [1, 0],\n      maxHeight: [this.getNestedItemsHeight() + DefaultIxMenuItemHeight, 0],\n      complete: () => {\n        setTimeout(() => {\n          this.showItems = false;\n          this.showDropdown = false;\n        }, DefaultAnimationTimeout + slotHideThresholdMs);\n      },\n    });\n  }\n\n  private animateFadeIn() {\n    anime({\n      targets: this.menuItemsContainer,\n      duration: DefaultAnimationTimeout,\n      easing: 'easeInSine',\n      opacity: [0, 1],\n      maxHeight: [0, this.getNestedItemsHeight() + DefaultIxMenuItemHeight],\n      begin: () => {\n        this.showItems = true;\n        this.showDropdown = false;\n      },\n    });\n  }\n\n  private onPointerEnter() {\n    if (this.ixMenu?.expand) {\n      return;\n    }\n    this.closeOtherCategories.emit();\n    this.showDropdown = true;\n  }\n\n  @Listen('closeOtherCategories', { target: 'window' })\n  private onPointerLeave() {\n    this.showDropdown = false;\n  }\n\n  private onCategoryClick(e: MouseEvent) {\n    e.stopPropagation();\n    if (this.ixMenu?.expand) {\n      this.onExpandCategory(!this.showItems);\n      return;\n    }\n  }\n\n  private onNestedItemsChanged(mutations?: MutationRecord[]) {\n    const oldNestedItemsLength = this.nestedItems.length;\n    this.nestedItems = this.getNestedItems();\n\n    if (\n      this.showItems &&\n      this.menuItemsContainer &&\n      oldNestedItemsLength !== this.nestedItems.length\n    ) {\n      this.menuItemsContainer.style.maxHeight = `${\n        this.getNestedItemsHeight() + DefaultIxMenuItemHeight\n      }px`;\n    }\n\n    if (!this.menuExpand || this.showItems || !mutations) {\n      return;\n    }\n\n    for (const mutation of mutations ?? []) {\n      if (\n        mutation.attributeName === 'class' &&\n        mutation.target instanceof HTMLElement &&\n        mutation.target.classList.contains('active')\n      ) {\n        this.showItems = true;\n        this.onExpandCategory(true);\n        return;\n      }\n    }\n  }\n\n  private isCategoryItemListVisible() {\n    return this.menuExpand && (this.showItems || this.isNestedItemActive());\n  }\n\n  componentWillLoad() {\n    const closestMenu = closestIxMenu(this.hostElement);\n    if (!closestMenu) {\n      throw Error('ix-menu-category can only be used as a child of ix-menu');\n    }\n    this.ixMenu = closestMenu;\n\n    this.menuExpand = this.ixMenu.expand;\n    this.showItems = this.isCategoryItemListVisible();\n  }\n\n  componentDidLoad() {\n    this.observer = createMutationObserver((mutations: MutationRecord[]) =>\n      this.onNestedItemsChanged(mutations)\n    );\n\n    this.observer.observe(this.hostElement, {\n      attributes: true,\n      childList: true,\n      subtree: true,\n    });\n\n    requestAnimationFrame(() => {\n      this.onNestedItemsChanged();\n    });\n\n    this.ixMenu?.addEventListener(\n      'expandChange',\n      ({ detail: menuExpand }: CustomEvent<boolean>) => {\n        this.menuExpand = menuExpand;\n        if (!menuExpand) {\n          this.clearMenuItemStyles();\n        }\n        this.showItems = this.isCategoryItemListVisible();\n      }\n    );\n  }\n\n  clearMenuItemStyles() {\n    this.menuItemsContainer?.style.removeProperty('max-height');\n    this.menuItemsContainer?.style.removeProperty('opacity');\n  }\n\n  disconnectedCallback() {\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n  }\n\n  render() {\n    return (\n      <Host\n        class={{\n          expanded: this.showItems,\n        }}\n        onPointerEnter={() => {\n          this.enterLeaveDebounce.onEnter();\n        }}\n        onPointerLeave={(event: PointerEvent) => {\n          if (event.pointerType === 'touch') {\n            return;\n          }\n          this.enterLeaveDebounce.onLeave();\n        }}\n      >\n        <ix-menu-item\n          class={'category-parent'}\n          active={this.isNestedItemActive()}\n          notifications={this.notifications}\n          icon={this.icon}\n          onClick={(e) => this.onCategoryClick(e)}\n          onFocus={() => this.onPointerEnter()}\n          isCategory\n        >\n          <div class=\"category\">\n            <div class=\"category-text\">{this.label}</div>\n            <ix-icon\n              name={iconChevronDownSmall}\n              class={{\n                'category-chevron': true,\n                'category-chevron--open': this.showItems,\n              }}\n            ></ix-icon>\n          </div>\n        </ix-menu-item>\n        <div\n          ref={(ref) => (this.menuItemsContainer = ref!)}\n          class={{\n            'menu-items': true,\n            'menu-items--expanded': this.showItems,\n            'menu-items--collapsed': !this.showItems,\n          }}\n        >\n          {this.showItems ? <slot></slot> : null}\n        </div>\n        <ix-dropdown\n          closeBehavior={'both'}\n          show={this.showDropdown}\n          onShowChanged={({ detail: dropdownShown }: CustomEvent<boolean>) => {\n            this.showDropdown = dropdownShown;\n          }}\n          class={'category-dropdown'}\n          anchor={this.hostElement}\n          placement=\"right-start\"\n          offset={{\n            mainAxis: 3,\n          }}\n          onClick={(e) => {\n            if (e.target instanceof HTMLElement) {\n              if (e.target.tagName === 'IX-MENU-ITEM') {\n                this.showDropdown = false;\n              } else {\n                e.preventDefault();\n              }\n            }\n          }}\n        >\n          <ix-dropdown-item class={'category-dropdown-header'}>\n            <ix-typography format=\"label\" bold textColor=\"std\">\n              {this.label}\n            </ix-typography>\n          </ix-dropdown-item>\n          <ix-divider></ix-divider>\n          <slot></slot>\n        </ix-dropdown>\n      </Host>\n    );\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2024 Siemens AG\n *\n * SPDX-License-Identifier: MIT\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nexport function createEnterLeaveDebounce(\n  enterCallback: Function,\n  leaveCallback: Function,\n  {\n    debounceTimeEnter,\n    debounceTimeLeave,\n  }: {\n    debounceTimeEnter: number;\n    debounceTimeLeave: number;\n  } = {\n    debounceTimeEnter: 0,\n    debounceTimeLeave: 500,\n  }\n) {\n  let enterTimeout: NodeJS.Timeout;\n  let leaveTimeout: NodeJS.Timeout;\n\n  return {\n    onEnter: () => {\n      clearTimeout(leaveTimeout);\n      enterTimeout = setTimeout(() => {\n        enterCallback();\n      }, debounceTimeEnter);\n    },\n    onLeave: () => {\n      clearTimeout(enterTimeout);\n      leaveTimeout = setTimeout(() => {\n        leaveCallback();\n      }, debounceTimeLeave);\n    },\n  };\n}\n"],"names":["createMutationObserver","callback","MutationObserver","ContextEvent","Event","constructor","context","subscribe","super","bubbles","composed","useContextConsumer","hostElement","onContextReceived","_unsubscribe","dispatchEvent","ctx","unSub","unsubscribe","useContextProvider","contextPayload","requestContext","TypedEvent","updateContext","requests","Set","addEventListener","event","requestContextEvent","name","stopPropagation","add","emit","delete","on","forEach","r","closestIxMenu","element","closest","ApplicationLayoutContext","initialValue","hideHeader","host","sidebar","MenuCategory","hostRef","menuExpand","showItems","showDropdown","nestedItems","enterLeaveDebounce","enterCallback","leaveCallback","enterTimeout","leaveTimeout","debounceTimeEnter","debounceTimeLeave","arguments","length","undefined","onEnter","clearTimeout","setTimeout","onLeave","createEnterLeaveDebounce","this","onPointerEnter","onPointerLeave","isNestedItemActive","getNestedItems","some","item","active","Array","from","querySelectorAll","getNestedItemsHeight","onExpandCategory","animateFadeIn","animateFadeOut","anime","targets","menuItemsContainer","duration","easing","opacity","maxHeight","complete","DefaultAnimationTimeout","begin","_a","ixMenu","expand","closeOtherCategories","onCategoryClick","e","onNestedItemsChanged","mutations","oldNestedItemsLength","style","concat","mutation","attributeName","target","HTMLElement","classList","contains","isCategoryItemListVisible","componentWillLoad","closestMenu","Error","componentDidLoad","observer","observe","attributes","childList","subtree","requestAnimationFrame","_ref","detail","clearMenuItemStyles","removeProperty","_b","disconnectedCallback","disconnect","render","h","Host","key","class","expanded","pointerType","notifications","icon","onClick","onFocus","isCategory","label","iconChevronDownSmall","ref","closeBehavior","show","onShowChanged","_ref2","dropdownShown","anchor","placement","offset","mainAxis","tagName","preventDefault","format","bold","textColor"],"sourceRoot":""}